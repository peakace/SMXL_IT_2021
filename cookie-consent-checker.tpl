___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Cookie Consent Checker",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "Google Tag Manager template to send cookie banner data to the Big Query. https://peakace.agency/en/blog/",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "endPoint",
    "displayName": "Cloud Function URL",
    "simpleValueType": true,
    "valueHint": "https://europe-west3-mein-google-cloud-projects.cloudfunctions.net/cookie-consent-checker",
    "alwaysInSummary": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "REGEX",
        "args": [
          "^https://.+"
        ]
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "cookieConsentName",
    "displayName": "Cookie Consent Name",
    "simpleValueType": true,
    "valueHint": "gdpr_consent",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "clickText",
    "displayName": "Click Text Variable",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "valueHint": "{{Click Text}}"
  },
  {
    "type": "CHECKBOX",
    "name": "consentStatusTrue",
    "checkboxText": "Consent Status",
    "simpleValueType": true,
    "help": "Activate your own Consent Status."
  },
  {
    "type": "LABEL",
    "name": "consentStatusText",
    "displayName": "Activate your own Consent Status. This makes sense if you use multilingual banners. When you activate it, another dimension is activated which is called Consent Status in Datastudio. The output of the Regex or LookUp table is then in this. e.g.: If {{Click Text}} contains \"Akzeptiere alle\" or \"Accept all\" write \"Accepted\".",
    "enablingConditions": [
      {
        "paramName": "consentStatusTrue",
        "paramValue": true,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "consentStatus",
    "displayName": "Field for Consent Status Variable",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "consentStatusTrue",
        "paramValue": true,
        "type": "EQUALS"
      }
    ],
    "valueHint": "{{regex- or LookUp Variable}}",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "moreInfoOptions",
    "displayName": "More Info to send",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "channelTrue",
        "checkboxText": "Enable source / medium",
        "simpleValueType": true
      },
      {
        "type": "CHECKBOX",
        "name": "utmCampaignTrue",
        "checkboxText": "Enable utm_campaign",
        "simpleValueType": true
      },
      {
        "type": "CHECKBOX",
        "name": "utmContentTrue",
        "checkboxText": "Enable utm_content",
        "simpleValueType": true
      },
      {
        "type": "CHECKBOX",
        "name": "utmTermTrue",
        "checkboxText": "Enable utm_term",
        "simpleValueType": true
      },
      {
        "type": "CHECKBOX",
        "name": "UserInfoTrue",
        "checkboxText": "Enable more User Info",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "userAgent",
        "displayName": "User Agent Variable",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "UserInfoTrue",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "help": "Create a JavaScript variable with the content navigator.userAgent and store it here.",
        "valueHint": "e.g.: {{jsv - userAgent}}"
      },
      {
        "type": "TEXT",
        "name": "appVersion",
        "displayName": "App Version Variable",
        "simpleValueType": true,
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "enablingConditions": [
          {
            "paramName": "UserInfoTrue",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "help": "Create a JavaScript variable with the content navigator.appVersion and store it here.",
        "valueHint": "e.g.: {{jsv - appVersion}}"
      },
      {
        "type": "TEXT",
        "name": "appName",
        "displayName": "App Name Variable",
        "simpleValueType": true,
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "enablingConditions": [
          {
            "paramName": "UserInfoTrue",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "help": "Create a JavaScript variable with the content navigator.appName and store it here.",
        "valueHint": "e.g.: {{jsv - appName}}"
      },
      {
        "type": "CHECKBOX",
        "name": "trackBotTraffic",
        "checkboxText": "Activate to Track Bot Traffic",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "UserInfoTrue",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "help": "If you enable bot traffic, this tag will already be searched for bot traffic and passed to the big query. You can also filter out the bot traffic yourself with the user agent in the big query."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "languageOptions",
    "displayName": "Banner Language Options",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "LABEL",
        "name": "languageInfo",
        "displayName": "Enter a variable for the banner language version here. The variable should contain the language version for the banner impression and the banner click. (e.g. DE, EN, etc.) You can also use a Javascript variable here again with the content navigator.language"
      },
      {
        "type": "CHECKBOX",
        "name": "languageOptionTrue",
        "checkboxText": "Activate Variable for Language",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "languageVariable",
        "displayName": "Language Variable",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "languageOptionTrue",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "valueHint": "e.g.: {{jsv - navigator.language}}",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "bannerVersionOptions",
    "displayName": "Banner Version Options",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "LABEL",
        "name": "bvInfo",
        "displayName": "Here you can give a Banner Version for A/B Testing."
      },
      {
        "type": "CHECKBOX",
        "name": "bannerVersionTrue",
        "checkboxText": "Activate Banner Versions",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "bannerVersion",
        "displayName": "Banner Version",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "bannerVersionTrue",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ownParams",
    "displayName": "Send your own Parameters",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "ownParamsTrue",
        "checkboxText": "Activate to send you own Parameters",
        "simpleValueType": true
      },
      {
        "type": "SIMPLE_TABLE",
        "name": "paramTable",
        "displayName": "",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Parameter Name",
            "name": "key",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Parameter Value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "enablingConditions": [
          {
            "paramName": "ownParamsTrue",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const readFromDataLayer = require('copyFromDataLayer');
const sendPixel = require('sendPixel');
const getTimestamp = require('getTimestamp');
const enc = require('encodeUriComponent');
const getUrl = require('getUrl');
const getCookieValues = require('getCookieValues');
const log = require('logToConsole');
const getReferrerUrl = require('getReferrerUrl');
const getQueryParameters = require('getQueryParameters');
const copyFromWindow = require('copyFromWindow');

const event = readFromDataLayer('event');
const event1 = 'gtm.click';
const url = getUrl('path');
const eventTimestamp = getTimestamp();
const consentCookie = !!(getCookieValues(data.cookieConsentName, true)[0]);
const fullUrl = getUrl().toString();
const fullReferrer = getReferrerUrl('host').toString();
const endPoint = data.endPoint;
const clickText = data.clickText;


let userAgent = "";
let source_medium = '';
let utm_campaign = '';
let utm_content = '';
let utm_term = '';
let deviceType = '';
let browser = '';
let os = '';
let language = '';
let bannerVersion = "";
let consentStatus = "";
let isBot = false;
let botName = "";
let ownParams = "";

log(data);
if (data.utmCampaignTrue) {
    if (fullUrl.indexOf("utm_source") > -1 && fullUrl.indexOf("utm_medium") > -1) {
        source_medium = getQueryParameters('utm_source') + ' / ' + getQueryParameters('utm_medium');
    } else if (fullUrl.indexOf("gclid") > -1) {
        source_medium = 'google / cpc';
    } else if (fullUrl.indexOf("mscklid") > -1) {
        source_medium = 'bing / cpc';
    } else if (fullUrl.indexOf("fbclid") > -1) {
        source_medium = 'facebook / cpc';
    } else if (fullReferrer.indexOf('google') > -1) {
        source_medium = 'google / organic';
    } else if (fullReferrer.indexOf('bing') > -1) {
        source_medium = 'bing / organic';
    } else if (fullReferrer.indexOf('facebook') > -1) {
        source_medium = 'facebook / organic';
    } else if (fullReferrer) {
        source_medium = fullReferrer + ' / referral';
    } else {
        source_medium = 'direct / none';
    }
}

if (data.utmCampaignTrue) {
    if (fullUrl.indexOf("utm_campaign") > -1) {
        utm_campaign = getQueryParameters('utm_campaign');
    }
}
if (data.utmContentTrue) {
    if (fullUrl.indexOf("utm_content") > -1) {
        utm_content = getQueryParameters('utm_content');
    }
}
if (data.utmTermTrue) {
    if (fullUrl.indexOf("utm_term") > -1) {
        utm_term = getQueryParameters('utm_term');
    }
}
if (data.UserInfoTrue) {
    userAgent = data.userAgent;
}

if (data.UserInfoTrue) {
   
	const browserStrings = {
        'Opera': ['Opera'],
        'Microsoft Internet Explorer': ['MSIE', 'Trident/'],
        'Firefox': ['Firefox', 'FxiOS'],
        'Instagram': ['Instagram'],
        'Facebook App': ['LightSpeed', 'FBAN/FBIOS'],
        'Indeed App': ['Indeed App'],
        'LinkedInApp': ['LinkedInApp'],
        'WeChat': ['MicroMessenger'],        
		'Google Search App': ['GSA/'],
		'Chrome': ['CriOS', 'Chrome'],
        'Safari': ['Version/1', 'Version/9', 'iPhone'],               
    };
	
	 let browserFound = false;
    for (let browsers in browserStrings) {
        for (let marker of browserStrings[browsers]) {
            if (!browserFound && data.userAgent.indexOf(marker) > -1) {
                browser = browsers;
                browserFound = true;
            }
        }
    }
}
	
if (data.UserInfoTrue) {  
    const clientStrings = {
        'Windows 10': ['Windows 10.0', 'Windows NT 10.0'],
        'Windows 8.1': ['Windows 8.1', 'Windows NT 6.3/'],
        'Windows 8': ['Windows 8', 'Windows NT 6.2'],
        'Windows 7': ['Windows 7', 'Windows NT 6.1'],
        'Windows Vista': ['Windows NT 6.0'],
        'Windows XP': ['Windows NT 5.1', 'Windows XP'],
        'Open BSD': ['OpenBSD'],
        'Sun OS': ['SunOS'],
        'Linux': ['Linux', 'X11'],
        'iOS': ['iPhone', 'iPad', 'iPod'],
        'Mac OS X': ['Mac OS X'],
        'Mac OS': ['MacPPC', 'MacIntel', 'Mac_PowerPC', 'Macintosh'],
        'QNX': ['QNX'],
        'UNIX': ['UNIX'],
        'BeOS': ['BeOS'],
        'OS/2': ['OS/2'],
        'Android': ['Android'],
    };

    let osFound = false;
    for (let oss in clientStrings) {
        for (let marker of clientStrings[oss]) {
            if (!osFound && data.userAgent.indexOf(marker) > -1) {
                os = oss;
                osFound = true;
            }
        }
    }
}

if (data.UserInfoTrue) {   
   if (data.userAgent.indexOf('tabl') != -1) {
		deviceType = 'Tablet';
   } else if (data.userAgent.indexOf('Tabl') != -1) {
		deviceType = 'Tablet';
   } else if (data.userAgent.indexOf('mobi') != -1) {
		deviceType = 'Mobile';
   } else if (data.userAgent.indexOf('Mobi') != -1) {
		deviceType = 'Mobile';
   } else {
		deviceType = 'Desktop';      
  }
}
  
if (data.languageOptionTrue) {
    language = data.languageVariable;
}

if (data.consentStatusTrue) {
    consentStatus = data.consentStatus;
}

if (data.bannerVersionTrue) {
    bannerVersion = data.bannerVersion;
}

if (data.trackBotTraffic) {
    const botList = {
        'Google Image Proxy': 'GoogleImageProxy',
        'Googlebot': 'GoogleBot/',
        'BingBot': 'bingbot',
        'Baidu Spider': 'Baiduspider',
        'Majestic-12 Distributed Search Bot': 'MJ12bot',
        'Yahoo! Slurp Web Crawler Bot': 'Yahoo! Slurp',
        'MegaIndex Crawler': 'Megaindex',
        'Ahrefs Backlink Research Bot': 'AhrefsBot',
        'SEMRush Crawler': 'SemrushBot',
        'OpenSite Explorer Crawler': 'DotBot/1.1, help@moz.com',
        'Jobboerse Crawler': 'JobboerseBot',
        'Google+ Snippet Fetcher': 'web/snippet',
        'Googlebot Image Crawler': 'Goolebot-Image',
        'Yandex Search Bot': 'YandexBot',
        'Yandex Image Bot': 'YandexImages',
        'MSN Bot': 'msnbot',
        'SEO Scanners Crawler Bot': 'seoscanners',
        'SEOkicks Crawler': 'SEOkicks-Robot',
        'Facebook Bot': 'facebookexternalhit',
        'Bing Preview Snapshot Generator': 'BingPreview',
        'CheckMark Network': 'checkmarknetwork.com/spider',
        'BLEXBot Crawler': 'BLEXBot',
        'The Trade Desk Content Scraper': 'TTD-Content',
        'SeznamBot Crawler': 'facebookexternalhit',
        'BUbiNG Crawler': 'BUbing',
        'VoilaBot Beta': 'VoilaBot',
        'Mail.ru Crawler': 'mail.ru/help/robots',
        'AdScanner Crawler': 'adscanner',
        'Qwantify Search Crawler': 'Qwantify',
        'Sistrix Crawler': 'crawler.sistrix',
        'PetalBot Crawler': 'PetalBot',
        'Chrome Lighthouse': 'Chrome-Lighthouse',
        'Google Favicon Crawler': 'Google Favicon',
        'Google Optimizer': 'Optimizer',
        'UncoverBot': 'uncovr',
        'Awin': 'awin.com'
    };
    for (var bot in botList) {
        if (userAgent.indexOf(botList[bot]) > -1) {
            botName = bot;
            isBot = true;
            log(bot);
            log(isBot);
            break;
        }
    }
}

if (data.ownParamsTrue){
  log(data.paramTable);
  for (var paramEintrag of data.paramTable) {  
     ownParams += "&"+paramEintrag.key+"="+paramEintrag.value;    
  }
}


if (event == "gtm.elementVisibility") {
    let payload = '?eventName=bannerimpression' +
        '&cookieValue=' + consentCookie +
        '&url=' + enc(url) +
        '&channel=' + enc(source_medium) +
        '&bannerVersion=' + enc(bannerVersion) +
        '&source_campaign=' + enc(utm_campaign) +
        '&source_content=' + enc(utm_content) +
        '&source_term=' + enc(utm_term) +
        '&agent=' + enc(userAgent) +
        '&deviceType=' + enc(deviceType) +
        '&browser=' + enc(browser) +
        '&os=' + enc(os) +        
        '&isBot=' + isBot +
        '&botName=' + enc(botName) +
        '&language=' + enc(language) +
         ownParams;

    sendPixel(endPoint + payload, null, null);
    log("Pixel sendet | Cookie exist:" + consentCookie);
}

if (event == "gtm.click") {
    let payload = '?eventName=bannerclick' +
        '&cookieValue=' + consentCookie +
        '&consent=' + enc(clickText) +
        '&url=' + enc(url) +
        '&channel=' + enc(source_medium) +
        '&bannerVersion=' + enc(bannerVersion) +
        '&source_campaign=' + enc(utm_campaign) +
        '&source_content=' + enc(utm_content) +
        '&source_term=' + enc(utm_term) +
        '&agent=' + enc(userAgent) +
        '&deviceType=' + enc(deviceType) +
        '&browser=' + enc(browser) +
        '&os=' + enc(os) +       
        '&language=' + enc(language) +
        '&isBot=' + isBot +
        '&botName=' + enc(botName) +
        '&consentStatus=' + enc(consentStatus) +
         ownParams;

    sendPixel(endPoint + payload, null, null);
    log(payload);
}
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "read_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "event"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_pixel",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_url",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_referrer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "copyFromWindow"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 4.6.2021, 14:58:32


